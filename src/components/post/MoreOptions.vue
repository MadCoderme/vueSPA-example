<script setup lang="ts">
const props = defineProps({
    onClose: {
        type: Function,
        required: true
    }
})
</script>

<template>
    <Transition name="slide">
        <div id="more-option-sheet" class="more-option-sheet" >
            <button @click="$event.stopPropagation(); props?.onClose()" 
                class="close-btn" style="margin-top: 0px; float: right">
                <svg width="22" height="22" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3.64001 2.27L7.50001 6.13L11.34 2.29C11.4248 2.19972 11.527 2.12749 11.6404 2.07766C11.7538 2.02783 11.8761 2.00141 12 2C12.2652 2 12.5196 2.10536 12.7071 2.29289C12.8947 2.48043 13 2.73478 13 3C13.0023 3.1226 12.9796 3.24439 12.9332 3.35788C12.8867 3.47138 12.8176 3.57419 12.73 3.66L8.84001 7.5L12.73 11.39C12.8948 11.5512 12.9915 11.7696 13 12C13 12.2652 12.8947 12.5196 12.7071 12.7071C12.5196 12.8946 12.2652 13 12 13C11.8726 13.0053 11.7454 12.984 11.6266 12.9375C11.5078 12.8911 11.4 12.8204 11.31 12.73L7.50001 8.87L3.65001 12.72C3.56552 12.8073 3.46457 12.8769 3.35301 12.925C3.24145 12.9731 3.12147 12.9986 3.00001 13C2.73479 13 2.48044 12.8946 2.2929 12.7071C2.10537 12.5196 2.00001 12.2652 2.00001 12C1.99768 11.8774 2.02043 11.7556 2.06686 11.6421C2.11328 11.5286 2.18242 11.4258 2.27001 11.34L6.16001 7.5L2.27001 3.61C2.1052 3.44876 2.00855 3.23041 2.00001 3C2.00001 2.73478 2.10537 2.48043 2.2929 2.29289C2.48044 2.10536 2.73479 2 3.00001 2C3.24001 2.003 3.47001 2.1 3.64001 2.27Z" fill="#A3F7BF" fill-opacity="0.7"/>
                </svg>
            </button>
            <button class="options" @click="$event.stopPropagation(); $router.push('/p/' + $route.params.id + '/stats')">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20.875 22.275L18.45 19.875C18.1166 20.1083 17.7456 20.2833 17.337 20.4C16.9283 20.5167 16.5076 20.575 16.075 20.575C14.825 20.575 13.7623 20.1373 12.887 19.262C12.0116 18.3867 11.5743 17.3243 11.575 16.075C11.575 14.825 12.0126 13.7623 12.888 12.887C13.7633 12.0117 14.8256 11.5743 16.075 11.575C17.325 11.575 18.3876 12.0127 19.263 12.888C20.1383 13.7633 20.5756 14.8257 20.575 16.075C20.575 16.5083 20.5166 16.9293 20.4 17.338C20.2833 17.7467 20.1083 18.1257 19.875 18.475L22.275 20.875C22.475 21.075 22.5793 21.3083 22.588 21.575C22.5966 21.8417 22.5006 22.075 22.3 22.275C22.1 22.475 21.8623 22.575 21.587 22.575C21.3116 22.575 21.0743 22.475 20.875 22.275ZM16.075 18.575C16.775 18.575 17.3666 18.3333 17.85 17.85C18.3333 17.3667 18.575 16.775 18.575 16.075C18.575 15.375 18.3333 14.7833 17.85 14.3C17.3666 13.8167 16.775 13.575 16.075 13.575C15.375 13.575 14.7833 13.8167 14.3 14.3C13.8166 14.7833 13.575 15.375 13.575 16.075C13.575 16.775 13.8166 17.3667 14.3 17.85C14.7833 18.3333 15.375 18.575 16.075 18.575ZM1.74996 17.55C1.53329 17.4 1.40396 17.1957 1.36196 16.937C1.31996 16.6783 1.36596 16.4327 1.49996 16.2L5.27496 10.15C5.45829 9.86667 5.71263 9.71234 6.03796 9.68701C6.36329 9.66167 6.64229 9.77434 6.87496 10.025L8.99996 12.5L12.175 7.32501C12.3583 7.00834 12.6376 6.85001 13.013 6.85001C13.3883 6.85001 13.6756 7.00001 13.875 7.30001L15.725 10.075C15.3416 10.0917 14.9793 10.1377 14.638 10.213C14.2966 10.2883 13.959 10.3923 13.625 10.525L13.075 9.70001L9.99996 14.7C9.81662 14.9833 9.55829 15.1417 9.22496 15.175C8.89162 15.2083 8.60829 15.0917 8.37496 14.825L6.24996 12.35L3.19996 17.275C3.04996 17.525 2.82896 17.6793 2.53696 17.738C2.24496 17.7967 1.98262 17.734 1.74996 17.55ZM18.3 10.575C17.9833 10.4417 17.654 10.3333 17.312 10.25C16.97 10.1667 16.616 10.1167 16.25 10.1L20.8 2.90001C20.95 2.66667 21.1666 2.51667 21.45 2.45001C21.7333 2.38334 21.9916 2.44167 22.225 2.62501C22.4416 2.77501 22.575 2.97901 22.625 3.23701C22.675 3.49501 22.6333 3.74101 22.5 3.97501L18.3 10.575Z" fill="#A3F7BF"/>
                </svg>
                <p>Stats</p>
            </button>
            <button class="options">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2.73004 21H21.26C22.03 21 22.51 20.17 22.13 19.5L12.86 3.50001C12.773 3.34744 12.6471 3.22063 12.4952 3.13242C12.3433 3.04422 12.1707 2.99776 11.995 2.99776C11.8194 2.99776 11.6468 3.04422 11.4949 3.13242C11.343 3.22063 11.2171 3.34744 11.13 3.50001L1.86004 19.5C1.48004 20.17 1.96004 21 2.73004 21ZM13 18H11V16H13V18ZM12 14C11.45 14 11 13.55 11 13V11C11 10.45 11.45 10 12 10C12.55 10 13 10.45 13 11V13C13 13.55 12.55 14 12 14Z" fill="#A3F7BF"/>
                </svg>
                <p>Report Post</p>
            </button>
            <button class="options">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M6 19C6 20.1 6.9 21 8 21H16C17.1 21 18 20.1 18 19V9C18 7.9 17.1 7 16 7H8C6.9 7 6 7.9 6 9V19ZM18 4H15.5L14.79 3.29C14.61 3.11 14.35 3 14.09 3H9.91C9.65 3 9.39 3.11 9.21 3.29L8.5 4H6C5.45 4 5 4.45 5 5C5 5.55 5.45 6 6 6H18C18.55 6 19 5.55 19 5C19 4.45 18.55 4 18 4Z" fill="#A3F7BF"/>
                </svg>
                <p>Delete Post</p>
            </button>

        </div>
    </Transition>
</template>

<style scoped>
.slide-enter-active {
  transition: all 0.3s cubic-bezier(0.17, 0.89, 0.24, 1.11);
  transform: translateY(90%);
}

.slide-enter-to {
  transition: all 0.3s cubic-bezier(0.17, 0.89, 0.24, 1.11);
  transform: translateY(0%);
}

.slide-leave-active {
  transition: all 0.3s cubic-bezier(0.17, 0.89, 0.24, 1.11);
  transform: translateY(100%);
}
.more-option-sheet {
    min-height: 100px;
    padding: 10px;
    padding-left: 5%;
    padding-top: 30px;
    padding-bottom: 20px;
    background-color: var(--c-black-mute);
    width: 100%;
    position: fixed;
    bottom: var(--bottom-menu-height);
    left: 0px;
    border-top-left-radius: 20px;
    border-top-right-radius: 20px;
    z-index: 100;
}
.options {
    display: flex;
    align-items: center;
    margin-bottom: 20px;
    background-color: transparent;
    border: none;
    cursor: pointer;
}
.options > p {
    margin-left: 10px;
    font-size: 18px;
    color: white;
}

@media (max-width: 480px) {
    .options > p {
        font-size: 16px;
    }
    .options > svg, .close-btn > svg {
        height: 20px !important;
    }
}
</style>